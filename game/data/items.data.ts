import type { ItemDefinition, EquipmentDefinition, ItemId, BagState } from '../types/items';

export const DEFAULT_BAG_SIZE = 99;

export const ITEM_DEFINITIONS: Record<ItemId, ItemDefinition | EquipmentDefinition> = {
  // Smithing products
  bronze_ingot: {
    id: 'bronze_ingot',
    name: 'Bronze Ingot',
    description: 'A bar of refined bronze, ready for crafting.',
    icon: 'üü´',
    category: 'material',
    rarity: 'common',
    maxStack: 100,
    sellPrice: 5,
  },
  iron_ingot: {
    id: 'iron_ingot',
    name: 'Iron Ingot',
    description: 'A bar of refined iron, stronger than bronze.',
    icon: '‚¨ú',
    category: 'material',
    rarity: 'uncommon',
    maxStack: 100,
    sellPrice: 12,
  },
  bronze_pickaxe: {
    id: 'bronze_pickaxe',
    name: 'Bronze Pickaxe',
    description: 'A sturdy pickaxe for mining rocks.',
    icon: '‚õèÔ∏è',
    category: 'tool',
    rarity: 'common',
    maxStack: 1,
    sellPrice: 40,
  },
  bronze_hatchet: {
    id: 'bronze_hatchet',
    name: 'Bronze Hatchet',
    description: 'A reliable hatchet for chopping trees.',
    icon: 'ü™ì',
    category: 'tool',
    rarity: 'common',
    maxStack: 1,
    sellPrice: 40,
  },

  // Combat drops
  rat_fang: {
    id: 'rat_fang',
    name: 'Rat Fang',
    description: 'A sharp fang from a giant rat.',
    icon: 'ü¶∑',
    category: 'misc',
    rarity: 'common',
    maxStack: 200,
    sellPrice: 1,
  },
  wolf_pelt: {
    id: 'wolf_pelt',
    name: 'Wolf Pelt',
    description: 'A warm pelt from a dire wolf.',
    icon: 'üêæ',
    category: 'misc',
    rarity: 'uncommon',
    maxStack: 100,
    sellPrice: 4,
  },
  nerd_notes: {
    id: 'nerd_notes',
    name: 'Nerd Notes',
    description: 'Scribbled notes packed with dubious strategies.',
    icon: 'üìù',
    category: 'misc',
    rarity: 'common',
    maxStack: 200,
    sellPrice: 1,
  },
  goblin_ear: {
    id: 'goblin_ear',
    name: 'Goblin Ear',
    description: 'A trophy taken from a goblin.',
    icon: 'üëÇ',
    category: 'misc',
    rarity: 'uncommon',
    maxStack: 200,
    sellPrice: 4,
  },
  bone_shard: {
    id: 'bone_shard',
    name: 'Bone Shard',
    description: 'A shard of bone. Could be useful for crafting later.',
    icon: 'ü¶¥',
    category: 'misc',
    rarity: 'common',
    maxStack: 500,
    sellPrice: 1,
  },
  orc_tusk: {
    id: 'orc_tusk',
    name: 'Orc Tusk',
    description: 'A brutal tusk from an orc warrior.',
    icon: 'ü¶∑',
    category: 'misc',
    rarity: 'rare',
    maxStack: 100,
    sellPrice: 20,
  },
  troll_toe: {
    id: 'troll_toe',
    name: 'Troll Toe',
    description: 'Gross, but valuable to the right buyer.',
    icon: 'ü¶∂',
    category: 'misc',
    rarity: 'rare',
    maxStack: 50,
    sellPrice: 25,
  },
  demon_essence: {
    id: 'demon_essence',
    name: 'Demon Essence',
    description: 'A pulsing essence taken from the abyss.',
    icon: 'üß™',
    category: 'misc',
    rarity: 'epic',
    maxStack: 50,
    sellPrice: 100,
  },

  // Woodcutting drops
  tree_seed: {
    id: 'tree_seed',
    name: 'Tree Seed',
    description: 'A seed that could grow into a mighty tree.',
    icon: 'üå±',
    category: 'misc',
    rarity: 'uncommon',
    maxStack: 50,
    sellPrice: 6,
  },
  bird_nest: {
    id: 'bird_nest',
    name: 'Bird Nest',
    description: 'A fallen nest, sometimes containing treasures.',
    icon: 'ü™∫',
    category: 'misc',
    rarity: 'rare',
    maxStack: 20,
    sellPrice: 30,
  },

  // Mining drops
  ruby: {
    id: 'ruby',
    name: 'Ruby',
    description: 'A precious red gemstone.',
    icon: 'üî¥',
    category: 'misc',
    rarity: 'rare',
    maxStack: 50,
    sellPrice: 60,
  },
  sapphire: {
    id: 'sapphire',
    name: 'Sapphire',
    description: 'A precious blue gemstone.',
    icon: 'üîµ',
    category: 'misc',
    rarity: 'rare',
    maxStack: 50,
    sellPrice: 55,
  },
  geode: {
    id: 'geode',
    name: 'Geode',
    description: 'A mysterious rock that may contain crystals.',
    icon: 'ü™®',
    category: 'misc',
    rarity: 'epic',
    maxStack: 10,
    sellPrice: 120,
  },

  // Equipment - Weapons
  bronze_sword: {
    id: 'bronze_sword',
    name: 'Bronze Sword',
    description: 'A basic sword made of bronze.',
    icon: 'üó°Ô∏è',
    category: 'equipment',
    rarity: 'common',
    maxStack: 1,
    sellPrice: 50,
    slot: 'weapon',
    stats: { attackBonus: 4, strengthBonus: 3, defenseBonus: 0, attackSpeed: 2.4 },
    levelRequired: 1,
  },
  iron_sword: {
    id: 'iron_sword',
    name: 'Iron Sword',
    description: 'A sturdy sword forged from iron.',
    icon: 'üó°Ô∏è',
    category: 'equipment',
    rarity: 'uncommon',
    maxStack: 1,
    sellPrice: 120,
    slot: 'weapon',
    stats: { attackBonus: 8, strengthBonus: 6, defenseBonus: 0, attackSpeed: 2.4 },
    levelRequired: 10,
  },
  steel_sword: {
    id: 'steel_sword',
    name: 'Steel Sword',
    description: 'A sharp sword crafted from steel.',
    icon: 'üó°Ô∏è',
    category: 'equipment',
    rarity: 'rare',
    maxStack: 1,
    sellPrice: 300,
    slot: 'weapon',
    stats: { attackBonus: 14, strengthBonus: 11, defenseBonus: 0, attackSpeed: 2.4 },
    levelRequired: 20,
  },
  mithril_sword: {
    id: 'mithril_sword',
    name: 'Mithril Sword',
    description: 'A legendary sword made of mithril.',
    icon: 'üó°Ô∏è',
    category: 'equipment',
    rarity: 'epic',
    maxStack: 1,
    sellPrice: 1200,
    slot: 'weapon',
    stats: { attackBonus: 22, strengthBonus: 18, defenseBonus: 0, attackSpeed: 2.2 },
    levelRequired: 40,
  },
  rune_sword: {
    id: 'rune_sword',
    name: 'Rune Sword',
    description: 'A runed blade tuned for relentless melee combat.',
    icon: '‚öîÔ∏è',
    category: 'equipment',
    rarity: 'epic',
    maxStack: 1,
    sellPrice: 2100,
    slot: 'weapon',
    stats: { attackBonus: 30, strengthBonus: 25, defenseBonus: 0, attackSpeed: 2.1 },
    levelRequired: 52,
  },
  elderwood_blade: {
    id: 'elderwood_blade',
    name: 'Elderwood Blade',
    description: 'A dense yew-forged weapon that channels heavy strikes.',
    icon: '‚öîÔ∏è',
    category: 'equipment',
    rarity: 'epic',
    maxStack: 1,
    sellPrice: 3000,
    slot: 'weapon',
    stats: { attackBonus: 37, strengthBonus: 33, defenseBonus: 0, attackSpeed: 2.0 },
    levelRequired: 60,
  },
  arcane_warblade: {
    id: 'arcane_warblade',
    name: 'Arcane Warblade',
    description: 'A magic-infused warblade built for endgame melee pressure.',
    icon: '‚öîÔ∏è',
    category: 'equipment',
    rarity: 'epic',
    maxStack: 1,
    sellPrice: 4500,
    slot: 'weapon',
    stats: { attackBonus: 45, strengthBonus: 41, defenseBonus: 2, attackSpeed: 1.9 },
    levelRequired: 68,
  },

  // Equipment - Helmets
  bronze_helmet: {
    id: 'bronze_helmet',
    name: 'Bronze Helmet',
    description: 'A basic helmet made of bronze.',
    icon: 'ü™ñ',
    category: 'equipment',
    rarity: 'common',
    maxStack: 1,
    sellPrice: 40,
    slot: 'helmet',
    stats: { attackBonus: 0, strengthBonus: 0, defenseBonus: 3 },
    levelRequired: 1,
  },
  iron_helmet: {
    id: 'iron_helmet',
    name: 'Iron Helmet',
    description: 'A sturdy helmet forged from iron.',
    icon: 'ü™ñ',
    category: 'equipment',
    rarity: 'uncommon',
    maxStack: 1,
    sellPrice: 100,
    slot: 'helmet',
    stats: { attackBonus: 0, strengthBonus: 0, defenseBonus: 6 },
    levelRequired: 10,
  },
  steel_helmet: {
    id: 'steel_helmet',
    name: 'Steel Helmet',
    description: 'A solid helmet crafted from steel.',
    icon: 'ü™ñ',
    category: 'equipment',
    rarity: 'rare',
    maxStack: 1,
    sellPrice: 250,
    slot: 'helmet',
    stats: { attackBonus: 0, strengthBonus: 0, defenseBonus: 10 },
    levelRequired: 20,
  },
  mithril_helmet: {
    id: 'mithril_helmet',
    name: 'Mithril Helmet',
    description: 'A refined helm forged from mithril alloys.',
    icon: 'ü™ñ',
    category: 'equipment',
    rarity: 'epic',
    maxStack: 1,
    sellPrice: 550,
    slot: 'helmet',
    stats: { attackBonus: 0, strengthBonus: 0, defenseBonus: 15 },
    levelRequired: 40,
  },
  runic_helmet: {
    id: 'runic_helmet',
    name: 'Runic Helmet',
    description: 'A helmet etched with combat runes for veteran fighters.',
    icon: 'ü™ñ',
    category: 'equipment',
    rarity: 'epic',
    maxStack: 1,
    sellPrice: 1200,
    slot: 'helmet',
    stats: { attackBonus: 1, strengthBonus: 0, defenseBonus: 22 },
    levelRequired: 55,
  },
  arcane_helmet: {
    id: 'arcane_helmet',
    name: 'Arcane Helmet',
    description: 'A magic helm that hardens your stance in close combat.',
    icon: 'ü™ñ',
    category: 'equipment',
    rarity: 'epic',
    maxStack: 1,
    sellPrice: 2300,
    slot: 'helmet',
    stats: { attackBonus: 2, strengthBonus: 1, defenseBonus: 29 },
    levelRequired: 68,
  },

  // Equipment - Chestplates
  bronze_chestplate: {
    id: 'bronze_chestplate',
    name: 'Bronze Chestplate',
    description: 'A basic chestplate made of bronze.',
    icon: 'ü¶∫',
    category: 'equipment',
    rarity: 'common',
    maxStack: 1,
    sellPrice: 60,
    slot: 'chest',
    stats: { attackBonus: 0, strengthBonus: 0, defenseBonus: 5 },
    levelRequired: 1,
  },
  iron_chestplate: {
    id: 'iron_chestplate',
    name: 'Iron Chestplate',
    description: 'A sturdy chestplate forged from iron.',
    icon: 'ü¶∫',
    category: 'equipment',
    rarity: 'uncommon',
    maxStack: 1,
    sellPrice: 150,
    slot: 'chest',
    stats: { attackBonus: 0, strengthBonus: 0, defenseBonus: 10 },
    levelRequired: 10,
  },
  steel_chestplate: {
    id: 'steel_chestplate',
    name: 'Steel Chestplate',
    description: 'A solid chestplate crafted from steel.',
    icon: 'ü¶∫',
    category: 'equipment',
    rarity: 'rare',
    maxStack: 1,
    sellPrice: 400,
    slot: 'chest',
    stats: { attackBonus: 0, strengthBonus: 0, defenseBonus: 16 },
    levelRequired: 20,
  },
  mithril_chestplate: {
    id: 'mithril_chestplate',
    name: 'Mithril Chestplate',
    description: 'A durable chestplate balancing weight and protection.',
    icon: 'ü¶∫',
    category: 'equipment',
    rarity: 'epic',
    maxStack: 1,
    sellPrice: 900,
    slot: 'chest',
    stats: { attackBonus: 0, strengthBonus: 0, defenseBonus: 24 },
    levelRequired: 42,
  },
  runic_chestplate: {
    id: 'runic_chestplate',
    name: 'Runic Chestplate',
    description: 'A heavy runed cuirass meant for sustained melee fights.',
    icon: 'ü¶∫',
    category: 'equipment',
    rarity: 'epic',
    maxStack: 1,
    sellPrice: 1900,
    slot: 'chest',
    stats: { attackBonus: 1, strengthBonus: 0, defenseBonus: 33 },
    levelRequired: 58,
  },
  arcane_chestplate: {
    id: 'arcane_chestplate',
    name: 'Arcane Chestplate',
    description: 'A battleplate woven with magic barriers.',
    icon: 'ü¶∫',
    category: 'equipment',
    rarity: 'epic',
    maxStack: 1,
    sellPrice: 3500,
    slot: 'chest',
    stats: { attackBonus: 2, strengthBonus: 2, defenseBonus: 43 },
    levelRequired: 69,
  },

  // Equipment - Legs
  bronze_platelegs: {
    id: 'bronze_platelegs',
    name: 'Bronze Platelegs',
    description: 'Basic leg armor made of bronze.',
    icon: 'ü©≥',
    category: 'equipment',
    rarity: 'common',
    maxStack: 1,
    sellPrice: 50,
    slot: 'legs',
    stats: { attackBonus: 0, strengthBonus: 0, defenseBonus: 4 },
    levelRequired: 1,
  },
  iron_platelegs: {
    id: 'iron_platelegs',
    name: 'Iron Platelegs',
    description: 'Sturdy leg armor forged from iron.',
    icon: 'ü©≥',
    category: 'equipment',
    rarity: 'uncommon',
    maxStack: 1,
    sellPrice: 130,
    slot: 'legs',
    stats: { attackBonus: 0, strengthBonus: 0, defenseBonus: 8 },
    levelRequired: 10,
  },
  steel_platelegs: {
    id: 'steel_platelegs',
    name: 'Steel Platelegs',
    description: 'Solid leg armor crafted from steel.',
    icon: 'ü©≥',
    category: 'equipment',
    rarity: 'rare',
    maxStack: 1,
    sellPrice: 350,
    slot: 'legs',
    stats: { attackBonus: 0, strengthBonus: 0, defenseBonus: 13 },
    levelRequired: 20,
  },
  mithril_platelegs: {
    id: 'mithril_platelegs',
    name: 'Mithril Platelegs',
    description: 'High-grade mithril leg armor for front-line combat.',
    icon: 'ü©≥',
    category: 'equipment',
    rarity: 'epic',
    maxStack: 1,
    sellPrice: 760,
    slot: 'legs',
    stats: { attackBonus: 0, strengthBonus: 0, defenseBonus: 20 },
    levelRequired: 42,
  },
  runic_platelegs: {
    id: 'runic_platelegs',
    name: 'Runic Platelegs',
    description: 'Reinforced platelegs engraved with warding runes.',
    icon: 'ü©≥',
    category: 'equipment',
    rarity: 'epic',
    maxStack: 1,
    sellPrice: 1600,
    slot: 'legs',
    stats: { attackBonus: 0, strengthBonus: 1, defenseBonus: 28 },
    levelRequired: 57,
  },
  arcane_platelegs: {
    id: 'arcane_platelegs',
    name: 'Arcane Platelegs',
    description: 'Enchanted leg armor that supports aggressive footwork.',
    icon: 'ü©≥',
    category: 'equipment',
    rarity: 'epic',
    maxStack: 1,
    sellPrice: 3000,
    slot: 'legs',
    stats: { attackBonus: 1, strengthBonus: 2, defenseBonus: 36 },
    levelRequired: 69,
  },

  // Equipment - Boots
  leather_boots: {
    id: 'leather_boots',
    name: 'Leather Boots',
    description: 'Basic boots made of leather.',
    icon: 'üë¢',
    category: 'equipment',
    rarity: 'common',
    maxStack: 1,
    sellPrice: 30,
    slot: 'boots',
    stats: { attackBonus: 0, strengthBonus: 0, defenseBonus: 2 },
    levelRequired: 1,
  },
  iron_boots: {
    id: 'iron_boots',
    name: 'Iron Boots',
    description: 'Sturdy boots reinforced with iron.',
    icon: 'üë¢',
    category: 'equipment',
    rarity: 'uncommon',
    maxStack: 1,
    sellPrice: 80,
    slot: 'boots',
    stats: { attackBonus: 0, strengthBonus: 0, defenseBonus: 4 },
    levelRequired: 10,
  },
  steel_boots: {
    id: 'steel_boots',
    name: 'Steel Boots',
    description: 'Solid boots crafted from steel.',
    icon: 'üë¢',
    category: 'equipment',
    rarity: 'rare',
    maxStack: 1,
    sellPrice: 200,
    slot: 'boots',
    stats: { attackBonus: 0, strengthBonus: 0, defenseBonus: 7 },
    levelRequired: 20,
  },
  mithril_boots: {
    id: 'mithril_boots',
    name: 'Mithril Boots',
    description: 'Mithril boots that keep you stable during heavy swings.',
    icon: 'üë¢',
    category: 'equipment',
    rarity: 'epic',
    maxStack: 1,
    sellPrice: 480,
    slot: 'boots',
    stats: { attackBonus: 0, strengthBonus: 0, defenseBonus: 11 },
    levelRequired: 40,
  },
  runic_boots: {
    id: 'runic_boots',
    name: 'Runic Boots',
    description: 'Boots carved with runes for battle-hardened movement.',
    icon: 'üë¢',
    category: 'equipment',
    rarity: 'epic',
    maxStack: 1,
    sellPrice: 980,
    slot: 'boots',
    stats: { attackBonus: 0, strengthBonus: 1, defenseBonus: 16 },
    levelRequired: 56,
  },
  arcane_boots: {
    id: 'arcane_boots',
    name: 'Arcane Boots',
    description: 'Magic boots that reinforce offense and defense together.',
    icon: 'üë¢',
    category: 'equipment',
    rarity: 'epic',
    maxStack: 1,
    sellPrice: 1800,
    slot: 'boots',
    stats: { attackBonus: 1, strengthBonus: 2, defenseBonus: 21 },
    levelRequired: 70,
  },

  // Equipment - Accessories
  power_amulet: {
    id: 'power_amulet',
    name: 'Power Amulet',
    description: 'An amulet that enhances your strength.',
    icon: 'üìø',
    category: 'equipment',
    rarity: 'rare',
    maxStack: 1,
    sellPrice: 500,
    slot: 'accessory',
    stats: { attackBonus: 3, strengthBonus: 5, defenseBonus: 0 },
    levelRequired: 15,
  },
  defense_ring: {
    id: 'defense_ring',
    name: 'Defense Ring',
    description: 'A ring that provides protection.',
    icon: 'üíç',
    category: 'equipment',
    rarity: 'rare',
    maxStack: 1,
    sellPrice: 500,
    slot: 'accessory',
    stats: { attackBonus: 0, strengthBonus: 0, defenseBonus: 8 },
    levelRequired: 15,
  },
  berserker_charm: {
    id: 'berserker_charm',
    name: 'Berserker Charm',
    description: 'A charm that pushes melee attack power to brutal levels.',
    icon: 'üßø',
    category: 'equipment',
    rarity: 'epic',
    maxStack: 1,
    sellPrice: 2600,
    slot: 'accessory',
    stats: { attackBonus: 6, strengthBonus: 12, defenseBonus: 2 },
    levelRequired: 60,
  },
  runed_war_ring: {
    id: 'runed_war_ring',
    name: 'Runed War Ring',
    description: 'A ring of layered runes that boosts all melee fundamentals.',
    icon: 'üíç',
    category: 'equipment',
    rarity: 'epic',
    maxStack: 1,
    sellPrice: 3200,
    slot: 'accessory',
    stats: { attackBonus: 5, strengthBonus: 8, defenseBonus: 12 },
    levelRequired: 66,
  },
};

export const ITEM_IDS = Object.keys(ITEM_DEFINITIONS) as ItemId[];

/**
 * Create a fresh bag state with empty slots.
 */
export function createInitialBagState(): BagState {
  return {
    slots: Array(DEFAULT_BAG_SIZE).fill(null),
    maxSlots: DEFAULT_BAG_SIZE,
  };
}
